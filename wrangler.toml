name = "replidraw-do-grgbkr"
type = "javascript"

account_id = "085f6d8eb08e5b23debfb08b21bda1eb"
workers_dev = true
# route = ""
# zone_id = ""

compatibility_date = "2022-02-10"
compatibility_flags = []

[durable_objects]
bindings = [
  { name = "roomDO", class_name = "RoomDO" },
  { name = "authDO", class_name = "AuthDO" }
]

[[migrations]]
tag = "v1"
new_classes = ["RoomDO", "AuthDO"]

[triggers]
crons = [ "*/5 * * * *" ] # ever 5 mins for AuthDO connection revalidation

[build]
command = "npm run build-worker"

[build.upload]
format = "modules"
dir = "dist"
main = "./index.mjs"

[miniflare]
durable_objects_persist = true

#[secrets]
#DATADOG_API_KEY
#REFLECT_AUTH_API_KEY
